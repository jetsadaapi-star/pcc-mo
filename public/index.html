<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PCC-MO Dashboard</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/dashboard.css">
</head>
<body>
  <div class="ambient-bg" aria-hidden="true">
    <span class="orb orb-1"></span>
    <span class="orb orb-2"></span>
    <span class="orb orb-3"></span>
    <span class="grid-glow"></span>
  </div>
  <!-- Header -->
  <header class="header reveal">
    <div class="header-content">
      <div class="logo">
        <span class="logo-icon">üè≠</span>
        <div class="logo-text">
          <h1>PCC-MO</h1>
          <p>Concrete Order Monitor</p>
        </div>
      </div>
      <div class="header-stats">
        <div class="stat-card glass">
          <span class="stat-icon">üìä</span>
          <div class="stat-info">
            <span class="stat-value" id="total-orders">-</span>
            <span class="stat-label">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
          </div>
        </div>
        <div class="stat-card glass">
          <span class="stat-icon">üìÖ</span>
          <div class="stat-info">
            <span class="stat-value" id="today-orders">-</span>
            <span class="stat-label">‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ</span>
          </div>
        </div>
        <div class="stat-card glass">
          <span class="stat-icon">üß±</span>
          <div class="stat-info">
            <span class="stat-value" id="total-cement">-</span>
            <span class="stat-label">‡∏õ‡∏π‡∏ô‡∏£‡∏ß‡∏° (‡∏Ñ‡∏¥‡∏ß)</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <!-- Filters -->
    <div class="filters glass reveal delay-1">
      <div class="filter-group">
        <label for="date-filter">üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
        <input type="date" id="date-filter" class="filter-input">
      </div>
      <div class="filter-group">
        <label for="factory-filter">üè≠ ‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô</label>
        <select id="factory-filter" class="filter-input">
          <option value="">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
          <option value="1">‡πÇ‡∏£‡∏á 1</option>
          <option value="2">‡πÇ‡∏£‡∏á 2</option>
          <option value="3">‡πÇ‡∏£‡∏á 3</option>
          <option value="4">‡πÇ‡∏£‡∏á 4</option>
        </select>
      </div>
      <div class="filter-group">
        <label for="product-filter">üì¶ ‡∏£‡∏´‡∏±‡∏™‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</label>
        <select id="product-filter" class="filter-input">
          <option value="">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
          <option value="A13">A13</option>
          <option value="A35">A35</option>
          <option value="A42">A42</option>
        </select>
      </div>
      <button class="btn btn-primary" onclick="loadOrders()">
        üîç ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤
      </button>
      <button class="btn btn-secondary" onclick="resetFilters()">
        ‚Ü∫ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï
      </button>
    </div>

    <!-- Orders Table -->
    <div class="table-container glass reveal delay-2" id="orders">
      <div class="table-header">
        <h2>üìã ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏Ñ‡∏≠‡∏ô‡∏Å‡∏£‡∏µ‡∏ï</h2>
        <button class="btn btn-sync" onclick="syncToSheets()">
          <span class="sync-icon">üì§</span> Sync to Sheets
        </button>
      </div>
      <div class="table-wrapper">
        <table class="orders-table">
          <thead>
            <tr>
              <th>ID</th>
              <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
              <th>‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô</th>
              <th>‡∏£‡∏´‡∏±‡∏™</th>
              <th>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</th>
              <th>‡∏õ‡∏π‡∏ô (‡∏Ñ‡∏¥‡∏ß)</th>
              <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ Sync</th>
              <th>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠</th>
            </tr>
          </thead>
          <tbody id="orders-tbody">
            <tr class="loading-row">
              <td colspan="8">
                <div class="loading-spinner"></div>
                <span>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <!-- Pagination -->
      <div class="pagination">
        <button class="btn btn-page" id="prev-btn" onclick="prevPage()" disabled>
          ‚Üê ‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤
        </button>
        <span class="page-info" id="page-info">‡∏´‡∏ô‡πâ‡∏≤ 1</span>
        <button class="btn btn-page" id="next-btn" onclick="nextPage()">
          ‡∏ñ‡∏±‡∏î‡πÑ‡∏õ ‚Üí
        </button>
      </div>
    </div>

    <!-- Daily Summary -->
    <div class="summary-container glass reveal delay-3">
      <h2>üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</h2>
      <div class="summary-grid" id="daily-summary">
        <p class="no-data">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏™‡∏£‡∏∏‡∏õ</p>
      </div>
    </div>
  </main>

  <!-- Toast Notification -->
  <div class="toast" id="toast"></div>

  <script src="/js/dashboard.js"></script>
</body>
</html>
